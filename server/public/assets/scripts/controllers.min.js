function SearchObject(){this.first_name="",this.last_name="",this.email="",this.phone=""}function SearchObject(){this.first_name="",this.last_name="",this.email="",this.phone=""}function isInFamily(e,i){for(var t=0;t<e.length;t++)if(e[t].pin===i)return!0;return!1}function SearchObject(){this.first_name="",this.last_name="",this.email="",this.phone=""}app.controller("DirectoryController",["$scope","DataService","uiGridConstants","$timeout",function(e,i,t,n){e.searchObject=new SearchObject,e.searchResults=[],e.family=[];var o=i;e.sendSelectedMemberInfo=function(e){console.log("this is the grid id",e),o.assignActiveMemberId(e)},e.gridOptions={columnDefs:[{field:"first_name",cellTemplate:'<a ng-click="grid.appScope.sendSelectedMemberInfo(row.entity.pin)" href="#/individualDatacard">{{COL_FIELD}}</a>',sort:{direction:t.ASC,priority:1}},{field:"last_name",sort:{direction:t.ASC,priority:2}},{field:"email"},{field:"phone"},{field:"pin",visible:!1}],enableFullRowSelection:!0},e.gridOptions.onRegisterApi=function(i){e.gridApi=i,i.selection.on.rowSelectionChanged(e,function(e){var i="row selected "+e.isSelected;console.log(e.entity),console.log(i)})},e.getQuery=function(){console.log("heading out from controller",e.searchObject),o.retrieveData(e.searchObject).then(function(){e.searchResults=o.peopleData(),e.gridOptions.data=e.searchResults})},n(function(){angular.element(document).find("nav").triggerHandler("click")},0)}]),app.controller("EditFamilyController",["$scope","DataService","uiGridConstants","$timeout","$http",function(e,i,t,n,o){e.searchObject=new SearchObject;var a=i;void 0===a.familyData?a.retrieveFamilyData().then(function(i){e.family=a.familyData().family,e.people=a.familyData().people}):(e.family=a.familyData().family,e.people=a.familyData().people,console.log("resulting people in family from db, ",e.people),console.log("what is in the family object? ",e.family)),e.updateFamily=function(){var i={people:e.people,family:e.family};o.post("/data/family/update",i).then(function(e){console.log("response after making a family: ",e.data)})},e.gridOptions={columnDefs:[{field:"first_name",sort:{direction:t.ASC,priority:1}},{field:"last_name",sort:{direction:t.ASC,priority:2}},{field:"email"},{field:"phone"},{field:"pin",visible:!1}],enableFullRowSelection:!0},e.gridOptions.onRegisterApi=function(i){e.gridApi=i,i.selection.on.rowSelectionChanged(e,function(i){var t="row selected "+i.isSelected;console.log("object to be inserted into the family: ",i.entity),i.isSelected&&!isInFamily(e.people,i.entity.pin)?e.people.push(i.entity):e.removeFromFamily(i.entity.pin),console.log(t)})},e.getQuery=function(){console.log("heading out from controller",e.searchObject),a.retrieveData(e.searchObject).then(function(){e.searchResults=a.peopleData(),e.gridOptions.data=e.searchResults})},e.removeFromFamily=function(i){for(var t=0;t<e.people.length;t++)e.people[t].pin===i&&e.people.splice(t,1)},n(function(){angular.element(document).find("nav").triggerHandler("click")},0)}]),app.controller("FamilyDatacardController",["$scope","DataService",function(e,i){var t=i;e.updateActiveMemberId=function(e){console.log("from familyDC, set active memberID to:",e),t.assignActiveMemberId(e)},t.retrieveFamilyData().then(function(){e.family=t.familyData().family,e.people=t.familyData().people,console.log("resulting people in family from db, ",e.people)})}]),app.controller("HomeController",["$scope",function(e){console.log("hi, for HomeController")}]);var x="gulp test";app.controller("IndividualDatacardController",["$scope","DataService",function(e,i){e.x="hi!";var t,n=i;n.retrieveActiveMember().then(function(){t=n.memberData(),e.member=n.memberData().individual,e.addresses=n.memberData().addresses,e.families=n.memberData().families,console.log("from inside indvcontr",t)}),e.updateActiveFamilyId=function(e){n.assignActiveFamilyIdApi(e)}}]),app.controller("MakeFamiliesController",["$scope","DataService","uiGridConstants","$timeout","$http",function(e,i,t,n,o){e.searchObject=new SearchObject,e.searchResults=[],e.family=[];var a=i;e.sendSelectedMemberInfo=function(e){console.log("this is the grid id",e),a.assignActiveMemberId(e)},e.gridOptions={columnDefs:[{field:"first_name",cellTemplate:'<a ng-click="grid.appScope.sendSelectedMemberInfo(row.entity.pin)" href="#/individualDatacard">{{COL_FIELD}}</a>',sort:{direction:t.ASC,priority:1}},{field:"last_name",sort:{direction:t.ASC,priority:2}},{field:"email"},{field:"phone"},{field:"pin",visible:!1}],enableFullRowSelection:!0},e.gridOptions.onRegisterApi=function(i){e.gridApi=i,i.selection.on.rowSelectionChanged(e,function(i){var t="row selected "+i.isSelected;console.log(i.entity),i.isSelected?e.family.push(i.entity):e.removeFromFamily(i.entity.pin),console.log(t)})},e.removeFromFamily=function(i){for(var t=0;t<e.family.length;t++)e.family[t].pin===i&&e.family.splice(t,1)},e.getQuery=function(){console.log("heading out from controller",e.searchObject),a.retrieveData(e.searchObject).then(function(){e.searchResults=a.peopleData(),e.gridOptions.data=e.searchResults})},e.makeFamily=function(){o.post("/data/family",e.family).then(function(e){console.log("response after making a family: ",e.data)})},n(function(){angular.element(document).find("nav").triggerHandler("click")},0)}]);